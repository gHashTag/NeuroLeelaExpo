---
description: 
globs: 
alwaysApply: false
---
# üïâÔ∏è –¢–µ–∫—É—â–∞—è –ó–∞–¥–∞—á–∞: –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ü—Ä–æ–±–ª–µ–º—ã —Å –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ–º –§–∏—à–∫–∏

## üéØ –¶–µ–ª—å
–ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫—É—é –ø—Ä–æ–±–ª–µ–º—É: –ø—Ä–∏ –±—Ä–æ—Å–∫–µ 6 —Å –ø–æ–∑–∏—Ü–∏–∏ 68 —Ñ–∏—à–∫–∞ –Ω–µ –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç—Å—è –Ω–∞ –ø–æ–∑–∏—Ü–∏—é 6, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ –ª–æ–≥–∏–∫–µ.

## üìã –ß–µ–∫–ø–æ–∏–Ω—Ç—ã

### ‚úÖ 1. –ü–µ—Ä–≤–∏—á–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã
- ‚úÖ –í—ã—è–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞: –≤ `processGameStep` –Ω–µ –≤—ã–∑—ã–≤–∞–ª—Å—è `updatePlayerPosition`
- ‚úÖ –§—É–Ω–∫—Ü–∏—è —Ç–æ–ª—å–∫–æ –≤–æ–∑–≤—Ä–∞—â–∞–ª–∞ `gameStep`, –Ω–æ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–ª–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –≤—ã–∑–æ–≤—ã `updatePlayerPosition` –≤–æ –≤—Å–µ—Ö –≤–µ—Ç–∫–∞—Ö `processGameStep`

### ‚úÖ 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ —Å–∏—Å—Ç–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- ‚úÖ –í—ã—è–≤–ª–µ–Ω –∫–æ–Ω—Ñ–ª–∏–∫—Ç –º–µ–∂–¥—É GameService (Supabase) –∏ Apollo Drizzle (–ª–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)
- ‚úÖ –£–±—Ä–∞–Ω –¥—É–±–ª–∏—Ä—É—é—â–∏–π –≤—ã–∑–æ–≤ `updatePlayerPosition` –≤ `useApolloDrizzle.movePlayer`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø—Ä—è–º–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è Apollo –ø–æ—Å–ª–µ `processGameStep`
- ‚úÖ –ö–æ–º–º–∏—Ç: `ae31312`

### ‚úèÔ∏è 3. –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–¥–æ–ª–∂–∞—é—â–µ–π—Å—è –ø—Ä–æ–±–ª–µ–º—ã
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `getLastStep`, `processGameStep`, `updatePlayerPosition`
- ‚úÖ –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω Supabase –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ –ø—Ä–æ–±–ª–µ–º—ã
- ‚úÖ –ö–æ–º–º–∏—Ç: `26c92b2`
- ‚úèÔ∏è **–¢–ï–ö–£–©–ò–ô –®–ê–ì:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –ø—Ä–∏ –±—Ä–æ—Å–∫–µ 6

### ‚úèÔ∏è 4. –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- ‚úèÔ∏è –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –ø—Ä–∏ –±—Ä–æ—Å–∫–µ –∫—É–±–∏–∫–∞
- ‚úèÔ∏è –í—ã—è–≤–∏—Ç—å, –≥–¥–µ –∏–º–µ–Ω–Ω–æ –∑–∞—Å—Ç—Ä–µ–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- ‚úèÔ∏è –ò—Å–ø—Ä–∞–≤–∏—Ç—å –Ω–∞–π–¥–µ–Ω–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É

### ‚úèÔ∏è 5. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ Supabase –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- ‚úèÔ∏è –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ Supabase
- ‚úèÔ∏è –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –º–µ–∂–¥—É Apollo –∏ Supabase

### ‚úèÔ∏è 6. –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úèÔ∏è –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —Ñ–∏—à–∫–∏ –ø—Ä–∏ –±—Ä–æ—Å–∫–µ 6 —Å –ø–æ–∑–∏—Ü–∏–∏ 68
- ‚úèÔ∏è –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úèÔ∏è –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ —Ö–æ–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ

## üîç –ü–æ–¥–æ–∑—Ä–µ–Ω–∏—è –Ω–∞ –ø—Ä–∏—á–∏–Ω—É –ø—Ä–æ–±–ª–µ–º—ã
1. **–†–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:** Apollo —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –º–æ–∫-–¥–∞–Ω–Ω—ã–º–∏, Supabase —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏
2. **–ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ü–µ–ø–æ—á–∫–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π:** `processGameStep` ‚Üí `updatePlayerPosition` ‚Üí `currentPlayerVar`
3. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è:** –í–æ–∑–º–æ–∂–Ω–æ, React –Ω–µ –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ Apollo

## üéÆ –û–∂–∏–¥–∞–µ–º—ã–π –†–µ–∑—É–ª—å—Ç–∞—Ç
- –ü—Ä–∏ –±—Ä–æ—Å–∫–µ 6 —Å –ø–æ–∑–∏—Ü–∏–∏ 68 —Ñ–∏—à–∫–∞ —Å—Ä–∞–∑—É –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç—Å—è –Ω–∞ –ø–æ–∑–∏—Ü–∏—é 6
- –í—Å–µ —Ö–æ–¥—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –∑–∞–¥–µ—Ä–∂–µ–∫
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–µ–∂–¥—É Apollo –∏ Supabase –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞

## üìù –°—Ç–∞—Ç—É—Å
**–í –ø—Ä–æ—Ü–µ—Å—Å–µ:** –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º - –æ–∂–∏–¥–∞–µ–º –∞–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ –±—Ä–∞—É–∑–µ—Ä–∞
